# Task 010: Select and Add Core Dependencies

**Milestone:** Setup  
**Points:** 1 (4 hours)  
**Dependencies:** 005  
**Branch:** `feat/deps`  
**Labels:** `setup`, `dependencies`

## Description
Research, select, and add all required Go dependencies for the MVP. Prioritize pure-Go libraries (no CGO) and lightweight packages.

## Acceptance Criteria
- [ ] SQLite driver (pure-Go, no CGO) added
- [ ] Router (chi or standard library decision documented)
- [ ] Image processing libraries added (resize, WebP, AVIF)
- [ ] EXIF handling library added
- [ ] Password hashing library added (bcrypt or argon2)
- [ ] All dependencies locked in `go.mod` and `go.sum`
- [ ] Dependency choices documented in `.docs/decisions/dependencies.md`

## Files to Add/Modify
- `go.mod` — add all required dependencies
- `go.sum` — generated by `go mod tidy`
- `.docs/decisions/dependencies.md` — rationale for each major dependency

## Dependencies to Add
```bash
# SQLite (pure-Go, no CGO)
go get modernc.org/sqlite

# Router (lightweight)
go get github.com/go-chi/chi/v5

# Image processing
go get github.com/disintegration/imaging

# WebP encoding/decoding
go get github.com/chai2010/webp

# AVIF encoding (optional for MVP, add if stable library exists)
# go get github.com/Kagami/go-avif

# EXIF handling
go get github.com/rwcarlsen/goexif/exif

# Password hashing (standard library bcrypt is sufficient)
# golang.org/x/crypto/bcrypt (already in stdlib)

# Session management (optional, can use custom implementation)
# go get github.com/gorilla/sessions (evaluate if needed)

# Environment variables
go get github.com/joho/godotenv
```

## Tests Required
- None (dependency addition only)

## PR Checklist
- [ ] `go mod tidy` completes successfully
- [ ] `go build ./...` compiles without errors
- [ ] All dependencies are from trusted sources
- [ ] No CGO dependencies added
- [ ] Dependency decision document created with rationale

## Git Workflow
```bash
git checkout -b feat/deps
go get <dependencies>
go mod tidy
# Create dependency decision doc
git add go.mod go.sum .docs/decisions/
git commit -m "feat: add core dependencies for MVP"
git push origin feat/deps
# Open PR: "Add core dependencies and document choices"
```

## Decision Criteria
- **SQLite:** `modernc.org/sqlite` — pure-Go, no CGO, actively maintained
- **Router:** `chi` — lightweight, idiomatic, good middleware support
- **Imaging:** `disintegration/imaging` — simple API, handles resize and orientation
- **WebP:** `chai2010/webp` — stable, pure-Go encoder/decoder
- **AVIF:** Defer to post-MVP if no stable pure-Go library exists

## Notes
- Document any license concerns in the decision doc
- Verify all dependencies are compatible with Go 1.21+
- Keep dependency count minimal for easier maintenance
